import{D as I,E as w}from"../modules/unplugin-icons-DV4Ivn4y.js";import{d as H,t as L,Q as N,D as m,O as q,z as _,aB as V,o as r,b as v,f as P,B as p,c,g as T,i as z,h as M,k as b,e as i,l as O,m as R,aa as s,q as K,s as W}from"../modules/vue-CBXeOvZU.js";import{v as x,aa as j,C as Q,ab as U,ac as X}from"../index-C0UWz8-6.js";import{u as S,f as G}from"./context-Z-FDAyX8.js";import{I as J}from"./default-B3bxM23W.js";import"../modules/shiki-Caxo5piS.js";const Y=["title"],Z=H({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:x.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(B){const t=B,{$clicksContext:n}=S(),l=L(),A=j();N(()=>{n.unregister(A)}),m(()=>{var a;(a=l.value)==null||a.classList.toggle("slidev-code-line-numbers",t.lines)}),q(()=>{var d;if(!n||!((d=t.ranges)!=null&&d.length))return;const a=n.calculateSince(t.at,t.ranges.length-1);n.register(A,a);const e=_(()=>a?Math.max(0,n.current-a.start+1):Q),h=_(()=>t.finally==="last"?t.ranges.at(-1):t.finally.toString());m(()=>{if(!l.value)return;let o=t.ranges[e.value]??h.value;const C=o==="hide";l.value.classList.toggle(U,C),C&&(o=t.ranges[e.value+1]??h.value);const E=l.value.querySelector(".shiki"),u=Array.from(E.querySelectorAll("code > .line")),$=u.length;if(X(o,$,t.startLine,k=>[u[k]]),t.maxHeight){const k=Array.from(E.querySelectorAll(".line.highlighted"));k.reduce((f,F)=>F.offsetHeight+f,0)>l.value.offsetHeight?k[0].scrollIntoView({behavior:"smooth",block:"start"}):k.length>0&&k[Math.round((k.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:g,copy:D}=V();function y(){var e,h;const a=(h=(e=l.value)==null?void 0:e.querySelector(".slidev-code"))==null?void 0:h.textContent;a&&D(a)}return(a,e)=>{const h=I,d=w;return r(),v("div",{ref_key:"el",ref:l,class:z(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":t.lines}]),style:M({"max-height":t.maxHeight,"overflow-y":t.maxHeight?"scroll":void 0,"--start":t.startLine})},[P(a.$slots,"default"),p(x).codeCopy?(r(),v("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:p(g)?"Copied":"Copy",onClick:e[0]||(e[0]=o=>y())},[p(g)?(r(),c(h,{key:0,class:"p-2 w-8 h-8"})):(r(),c(d,{key:1,class:"p-2 w-8 h-8"}))],8,Y)):T("v-if",!0)],6)}}}),ii={__name:"slides.md__slidev_7",setup(B){const{$slidev:t,$nav:n,$clicksContext:l,$clicks:A,$page:g,$renderContext:D,$frontmatter:y}=S();return l.setup(),(a,e)=>{const h=Z;return r(),c(J,K(W(p(G)(p(y),6))),{default:b(()=>[e[1]||(e[1]=i("h1",null,"Fibers!",-1)),O(h,R({},{ranges:[]}),{default:b(()=>e[0]||(e[0]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-d"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," main"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"() "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"@safe"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    auto"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," io"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," ="),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," IOContext.construct"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"("),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1024"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    shared"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," fd"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," ="),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," listenTcp"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"127.0.0.1"'),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 8888"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 512"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    scope(exit)"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," closeSocket"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"fd"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    io.run"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"("),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"fiber"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"(() "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"@safe"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," shared"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"        auto"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," client"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," ="),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," acceptAsync"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"fd"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},")"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},".yield"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        scope"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"exit"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},") "),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"closeAsync"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"client.fd"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},")"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},".yield"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"        ubyte"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"["),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1024"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"] "),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"buffer"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"        for "),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"(;;) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"            auto"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," req"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," ="),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," readAsync"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"client.fd"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," buffer"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"[]"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},")"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},".yield"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"                .parseRequest"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"            string"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," response"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," ="),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "HTTP/1.0 200 OK'),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"\\r\\n"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'Connec..."'),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"            writeAsync"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"client.fd"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},","),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," response"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},")"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},".yield"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"();")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    }))"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},".syncWait"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"()."),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"assumeOk"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"}")])])],-1)])),_:1},16)]),_:1},16)}}},ni=ii;export{ni as default};
